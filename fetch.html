<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body id="body">
    <div id="div1">
        <h1>produc details</h1>
        <button onclick="fetchData()">click</button>
        <div>
            <table id="productable" style="border: 1px;">
                <thead>
                <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Price</th>
                <th>Catergery</th>
                <th>Image</th>
            </tr>
        </thead>
        <tbody id="table-body">

        </tbody>
            </table>

        </div>
    </div>

    <script>
        var body = document.getElementById("body")

        async function fetchData(){
            try{
                var response = await fetch('https://fakestoreapi.com/products')
                if(!response.ok){
                    var newElement = document.createElement("h1")
                    newElement.textContent = "error in the api"
                    body.appendChild(newElement)



                }
                var data = await response.json()
                var tablebody = document.getElementById("table-body")
                for(var i = 0 ; i<data.length ; i++){
                    var item = data[i]
                    var tableRow = document.createElement("tr")
                    var idCell = document.createElement("td")
                    idCell.textContent = item.id
                    var title = document.createElement("td")
                    title.textContent = item.title
                    var price = document.createElement("td")
                    price.textContent = item.price
                    

                    tablebody.appendChild(tableRow)
                    tablebody.appendChild(idCell)
                    tablebody.appendChild(title)
                    tablebody.appendChild(price)

                }
            }catch{
                var newElements = document.createElement("p")
                newElements.textContent = "no data"
                body.appendChild(newElements)


            }
        }
    </script>
    
</body>
</html>